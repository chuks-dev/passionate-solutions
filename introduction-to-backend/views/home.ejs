<%-include ('./partials/header') %>
<% const featuredPosts = posts.filter(post=>post.featured) %> 



<header>
  <div
    id="carouselExampleIndicators"
    class="carousel slide"
    data-ride="carousel"
  >
    <ol class="carousel-indicators">
   <%   featuredPosts.reverse().forEach((post, index) =>{ %>
     <li class="item-indicator" data-target="#carouselExampleIndicators" data-slide-to=<%=index%>></li>
    <%  }) %>
  
    </ol>
    <div class="carousel-inner">
      <% featuredPosts.forEach(post =>{ %>
        <div class="carousel-item ">
        <img
          src=<%=post.imgUrl  %>
          class="d-block w-100 carousel-img"
          alt="..."
        />
        <div class="carousel-caption d-none d-md-block">
          <h5><%=post.title  %> </h5>
          <p><%=post.content.substring(0,50)  %> </p>
          <a class="btn-sm btn-outline-secondary" href="/about"> Read More</a>
        </div>
      </div>

      <% }) %> 

      
    </div>
    <a
      class="carousel-control-prev"
      href="#carouselExampleIndicators"
      role="button"
      data-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a
      class="carousel-control-next"
      href="#carouselExampleIndicators"
      role="button"
      data-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</header>

<main class="mt-5">
  <div class="container">
    <div class="row">
      
      <% posts.reverse().forEach((post)=>{ %>
        <div class="col-md-4 mb-5">
        <div class="card" style="">
          <img src=<%=post.imgUrl  %>  class="card-img-top" alt=<%=post.title%> />
          <div class="card-body">
            <h5 class="card-title"><%= post.title  %> </h5>
            <p class="card-text">
              
              <%=post.content.substring(0,100)  %>...
            </p>
            <a href="/post" class="btn btn-primary">Read more</a>
          </div>
        </div>
      </div>


     <% }) %> 






      

    <div class="row">
      <div class="card my-5 text-center p-0">
        <div class="card-header">Featured Posts</div>
        <div class="card-body">
          <h5 class="card-title">Hot Topic you might have missed</h5>
          <p class="card-text">
            To get the lists of all our featured post, please follow the link
            below
          </p>
          <a href="#" class="btn btn-primary">All Featured Posts</a>
        </div>
      </div>
    </div>
  </div>
</main>

<%- include ('./partials/footer') %>
